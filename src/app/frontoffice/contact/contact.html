<div class="bg-black text-white min-h-screen flex flex-col">
  <app-header></app-header>

  <main class="flex-1 pt-20 sm:pt-28">
    <section class="max-w-5xl mx-auto px-6 py-16 space-y-16">
      <div class="space-y-4">
        <h1 class="text-5xl font-bold">Contact</h1>
        <div class="space-y-2 text-base-content/80">
          <p>{{ contactInfo.address }}</p>
          <p>Operating Hours: {{ contactInfo.hours }}</p>
          <p>
            Email:
            <a
              class="text-primary hover:text-primary/80"
              href="mailto:{{ contactInfo.email }}"
              >{{ contactInfo.email }}</a
            >
          </p>
          <p>
            Tel:
            <a
              class="text-primary hover:text-primary/80"
              href="tel:{{ contactInfo.phone }}"
              >{{ contactInfo.phone }}</a
            >
          </p>
        </div>
      </div>

      <div
        class="bg-neutral/80 border border-neutral/60 rounded-3xl p-10 space-y-10"
      >
        <div class="space-y-2">
          <h2 class="text-4xl font-bold">Enquire</h2>
          <p class="text-base-content/70">
            Partagez votre besoin et notre équipe vous contactera rapidement
            pour vous accompagner.
          </p>
        </div>

        @if (successMessage()) {
        <div class="auth-alert auth-alert--success">
          <svg class="auth-alert__icon" fill="none" viewBox="0 0 24 24">
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          <span class="font-medium">{{ successMessage() }}</span>
        </div>
        } @if (errorMessage()) {
        <div class="auth-alert auth-alert--error">
          <svg class="auth-alert__icon" fill="none" viewBox="0 0 24 24">
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          <span class="font-medium">{{ errorMessage() }}</span>
        </div>
        }

        <form
          [formGroup]="contactForm"
          (ngSubmit)="onSubmit()"
          class="grid grid-cols-1 lg:grid-cols-2 gap-6"
        >
          <div class="space-y-3">
            <label class="auth-field__label" for="name">Name</label>
            <input
              id="name"
              type="text"
              formControlName="name"
              [class]="getInputClasses('name')"
              placeholder="Votre nom complet"
            />
            @if (hasFieldError('name')) {
            <p class="text-xs font-medium text-error">
              {{ getFieldError('name') }}
            </p>
            }
          </div>

          <div class="space-y-3">
            <label class="auth-field__label" for="email">Email *</label>
            <input
              id="email"
              type="email"
              formControlName="email"
              [class]="getInputClasses('email')"
              placeholder="votre@email.com"
            />
            @if (hasFieldError('email')) {
            <p class="text-xs font-medium text-error">
              {{ getFieldError('email') }}
            </p>
            }
          </div>

          <div class="space-y-3 lg:col-span-2">
            <label class="auth-field__label" for="phone">Phone number</label>
            <input
              id="phone"
              type="text"
              formControlName="phoneNumber"
              [class]="getInputClasses('phoneNumber')"
              placeholder="Votre numéro de téléphone"
            />
          </div>

          <div class="space-y-3 lg:col-span-2">
            <label class="auth-field__label" for="message">Comment</label>
            <textarea
              id="message"
              rows="6"
              formControlName="message"
              [class]="getInputClasses('message')"
              placeholder="Décrivez votre besoin ou votre question"
            ></textarea>
            <p class="text-xs text-base-content/70">
              {{ messageMinLength() }} caractères minimum. Il vous en reste {{
              messageCharsRemaining() }}.
            </p>
            @if (hasFieldError('message')) {
            <p class="text-xs font-medium text-error">
              {{ getFieldError('message') }}
            </p>
            }
          </div>

          <div
            class="lg:col-span-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"
          >
            <button
              type="submit"
              class="auth-button auth-button--primary sm:w-auto"
              [disabled]="isLoading()"
            >
              @if (isLoading()) {
              <span
                class="loading loading-spinner loading-sm auth-loading"
              ></span>
              <span>Envoi en cours...</span>
              } @else {
              <span>Envoyer</span>
              }
            </button>
            <p class="auth-small-note text-left sm:text-right">
              Nos conseillers vous répondront sous 24 heures ouvrées.
            </p>
          </div>
        </form>
      </div>
    </section>
  </main>

  <app-footer></app-footer>
</div>
